**ã€Šä»£ç éšæƒ³å½•ã€‹ç®—æ³•è§†é¢‘å…¬å¼€è¯¾ï¼š[åŠ¨æ€è§„åˆ’ä¹‹ LeetCodeï¼š121.ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº1](https://www.bilibili.com/video/BV1Xe4y1u77q)ï¼Œç›¸ä¿¡ç»“åˆè§†é¢‘å†çœ‹æœ¬ç¯‡é¢˜è§£ï¼Œæ›´æœ‰åŠ©äºå¤§å®¶å¯¹æœ¬é¢˜çš„ç†è§£**ã€‚

## æ€è·¯

### æš´åŠ›

è¿™é“é¢˜ç›®æœ€ç›´è§‚çš„æƒ³æ³•ï¼Œå°±æ˜¯æš´åŠ›ï¼Œæ‰¾æœ€ä¼˜é—´è·äº†ã€‚

* CPP

```CPP
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int result = 0;
        for (int i = 0; i < prices.size(); i++) {
            for (int j = i + 1; j < prices.size(); j++){
                result = max(result, prices[j] - prices[i]);
            }
        }
        return result;
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼šO(n^2)
* ç©ºé—´å¤æ‚åº¦ï¼šO(1)

å½“ç„¶è¯¥æ–¹æ³•è¶…æ—¶äº†ã€‚

### è´ªå¿ƒ

å› ä¸ºè‚¡ç¥¨å°±ä¹°å–ä¸€æ¬¡ï¼Œé‚£ä¹ˆè´ªå¿ƒçš„æƒ³æ³•å¾ˆè‡ªç„¶å°±æ˜¯å–æœ€å·¦æœ€å°å€¼ï¼Œå–æœ€å³æœ€å¤§å€¼ï¼Œé‚£ä¹ˆå¾—åˆ°çš„å·®å€¼å°±æ˜¯æœ€å¤§åˆ©æ¶¦ã€‚

C++ä»£ç å¦‚ä¸‹ï¼š

* CPP

```CPP
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int low = INT_MAX;
        int result = 0;
        for (int i = 0; i < prices.size(); i++) {
            low = min(low, prices[i]);  // å–æœ€å·¦æœ€å°ä»·æ ¼
            result = max(result, prices[i] - low); // ç›´æ¥å–æœ€å¤§åŒºé—´åˆ©æ¶¦
        }
        return result;
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼šO(n)
* ç©ºé—´å¤æ‚åº¦ï¼šO(1)

### åŠ¨æ€è§„åˆ’

åŠ¨è§„äº”éƒ¨æ›²åˆ†æå¦‚ä¸‹ï¼š

1. ç¡®å®šdpæ•°ç»„ï¼ˆdp tableï¼‰ä»¥åŠä¸‹æ ‡çš„å«ä¹‰

dp[i][0] è¡¨ç¤ºç¬¬iå¤©æŒæœ‰è‚¡ç¥¨æ‰€å¾—æœ€å¤šç°é‡‘ ï¼Œ**è¿™é‡Œå¯èƒ½æœ‰åŒå­¦ç–‘æƒ‘ï¼Œæœ¬é¢˜ä¸­åªèƒ½ä¹°å–ä¸€æ¬¡ï¼ŒæŒæœ‰è‚¡ç¥¨ä¹‹åå“ªè¿˜æœ‰ç°é‡‘å‘¢ï¼Ÿ**

å…¶å®ä¸€å¼€å§‹ç°é‡‘æ˜¯0ï¼Œé‚£ä¹ˆåŠ å…¥ç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨ç°é‡‘å°±æ˜¯ -prices[i]ï¼Œ è¿™æ˜¯ä¸€ä¸ªè´Ÿæ•°ã€‚

dp[i][1] è¡¨ç¤ºç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨æ‰€å¾—æœ€å¤šç°é‡‘

**æ³¨æ„è¿™é‡Œè¯´çš„æ˜¯â€œæŒæœ‰â€ï¼Œâ€œæŒæœ‰â€ä¸ä»£è¡¨å°±æ˜¯å½“å¤©â€œä¹°å…¥â€ï¼ä¹Ÿæœ‰å¯èƒ½æ˜¯æ˜¨å¤©å°±ä¹°å…¥äº†ï¼Œä»Šå¤©ä¿æŒæŒæœ‰çš„çŠ¶æ€**

å¾ˆå¤šåŒå­¦æŠŠâ€œæŒæœ‰â€å’Œâ€œä¹°å…¥â€æ²¡åŒºåˆ†æ¸…æ¥šã€‚

åœ¨ä¸‹é¢é€’æ¨å…¬å¼åˆ†æä¸­ï¼Œæˆ‘ä¼šè¿›ä¸€æ­¥è®²è§£ã€‚

2. ç¡®å®šé€’æ¨å…¬å¼

å¦‚æœç¬¬iå¤©æŒæœ‰è‚¡ç¥¨å³dp[i][0]ï¼Œ é‚£ä¹ˆå¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥
* ç¬¬i-1å¤©å°±æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå°±ä¿æŒç°çŠ¶ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ å³ï¼šdp[i - 1][0]
* ç¬¬iå¤©ä¹°å…¥è‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯ä¹°å…¥ä»Šå¤©çš„è‚¡ç¥¨åæ‰€å¾—ç°é‡‘å³ï¼š-prices[i]

é‚£ä¹ˆdp[i][0]åº”è¯¥é€‰æ‰€å¾—ç°é‡‘æœ€å¤§çš„ï¼Œæ‰€ä»¥dp[i][0] = max(dp[i - 1][0], -prices[i]);

å¦‚æœç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨å³dp[i][1]ï¼Œ ä¹Ÿå¯ä»¥ç”±ä¸¤ä¸ªçŠ¶æ€æ¨å‡ºæ¥
* ç¬¬i-1å¤©å°±ä¸æŒæœ‰è‚¡ç¥¨ï¼Œé‚£ä¹ˆå°±ä¿æŒç°çŠ¶ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æ˜¨å¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æ‰€å¾—ç°é‡‘ å³ï¼šdp[i - 1][1]
* ç¬¬iå¤©å–å‡ºè‚¡ç¥¨ï¼Œæ‰€å¾—ç°é‡‘å°±æ˜¯æŒ‰ç…§ä»Šå¤©è‚¡ç¥¨ä»·æ ¼å–å‡ºåæ‰€å¾—ç°é‡‘å³ï¼šprices[i] + dp[i - 1][0]

åŒæ ·dp[i][1]å–æœ€å¤§çš„ï¼Œdp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);

è¿™æ ·é€’æ¨å…¬å¼æˆ‘ä»¬å°±åˆ†æå®Œäº†

3. dpæ•°ç»„å¦‚ä½•åˆå§‹åŒ–

ç”±é€’æ¨å…¬å¼ dp[i][0] = max(dp[i - 1][0], -prices[i]); å’Œ dp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);å¯ä»¥çœ‹å‡º

å…¶åŸºç¡€éƒ½æ˜¯è¦ä»dp[0][0]å’Œdp[0][1]æ¨å¯¼å‡ºæ¥ã€‚

é‚£ä¹ˆdp[0][0]è¡¨ç¤ºç¬¬0å¤©æŒæœ‰è‚¡ç¥¨ï¼Œæ­¤æ—¶çš„æŒæœ‰è‚¡ç¥¨å°±ä¸€å®šæ˜¯ä¹°å…¥è‚¡ç¥¨äº†ï¼Œå› ä¸ºä¸å¯èƒ½æœ‰å‰ä¸€å¤©æ¨å‡ºæ¥ï¼Œæ‰€ä»¥dp[0][0] -= prices[0];

dp[0][1]è¡¨ç¤ºç¬¬0å¤©ä¸æŒæœ‰è‚¡ç¥¨ï¼Œä¸æŒæœ‰è‚¡ç¥¨é‚£ä¹ˆç°é‡‘å°±æ˜¯0ï¼Œæ‰€ä»¥dp[0][1] = 0;

4. ç¡®å®šéå†é¡ºåº

ä»é€’æ¨å…¬å¼å¯ä»¥çœ‹å‡ºdp[i]éƒ½æ˜¯ç”±dp[i - 1]æ¨å¯¼å‡ºæ¥çš„ï¼Œé‚£ä¹ˆä¸€å®šæ˜¯ä»å‰å‘åéå†ã€‚

5. ä¸¾ä¾‹æ¨å¯¼dpæ•°ç»„

ä»¥ç¤ºä¾‹1ï¼Œè¾“å…¥ï¼š[7,1,5,3,6,4]ä¸ºä¾‹ï¼Œdpæ•°ç»„çŠ¶æ€å¦‚ä¸‹ï¼š

![image.png](https://pic.leetcode.cn/1684309128-ckQeYh-image.png)

dp[5][1]å°±æ˜¯æœ€ç»ˆç»“æœã€‚

ä¸ºä»€ä¹ˆä¸æ˜¯dp[5][0]å‘¢ï¼Ÿ

**å› ä¸ºæœ¬é¢˜ä¸­ä¸æŒæœ‰è‚¡ç¥¨çŠ¶æ€æ‰€å¾—é‡‘é’±ä¸€å®šæ¯”æŒæœ‰è‚¡ç¥¨çŠ¶æ€å¾—åˆ°çš„å¤šï¼**

ä»¥ä¸Šåˆ†æå®Œæ¯•ï¼ŒC++ä»£ç å¦‚ä¸‹ï¼š

* CPP

```CPP
// ç‰ˆæœ¬ä¸€
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int len = prices.size();
        if (len == 0) return 0;
        vector<vector<int>> dp(len, vector<int>(2));
        dp[0][0] -= prices[0];
        dp[0][1] = 0;
        for (int i = 1; i < len; i++) {
            dp[i][0] = max(dp[i - 1][0], -prices[i]);
            dp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);
        }
        return dp[len - 1][1];
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼šO(n)
* ç©ºé—´å¤æ‚åº¦ï¼šO(n)

ä»é€’æ¨å…¬å¼å¯ä»¥çœ‹å‡ºï¼Œdp[i]åªæ˜¯ä¾èµ–äºdp[i - 1]çš„çŠ¶æ€ã€‚

* 

```
dp[i][0] = max(dp[i - 1][0], -prices[i]);
dp[i][1] = max(dp[i - 1][1], prices[i] + dp[i - 1][0]);
```

é‚£ä¹ˆæˆ‘ä»¬åªéœ€è¦è®°å½• å½“å‰å¤©çš„dpçŠ¶æ€å’Œå‰ä¸€å¤©çš„dpçŠ¶æ€å°±å¯ä»¥äº†ï¼Œå¯ä»¥ä½¿ç”¨æ»šåŠ¨æ•°ç»„æ¥èŠ‚çœç©ºé—´ï¼Œä»£ç å¦‚ä¸‹ï¼š

* CPP

```CPP
// ç‰ˆæœ¬äºŒ
class Solution {
public:
    int maxProfit(vector<int>& prices) {
        int len = prices.size();
        vector<vector<int>> dp(2, vector<int>(2)); // æ³¨æ„è¿™é‡Œåªå¼€è¾Ÿäº†ä¸€ä¸ª2 * 2å¤§å°çš„äºŒç»´æ•°ç»„
        dp[0][0] -= prices[0];
        dp[0][1] = 0;
        for (int i = 1; i < len; i++) {
            dp[i % 2][0] = max(dp[(i - 1) % 2][0], -prices[i]);
            dp[i % 2][1] = max(dp[(i - 1) % 2][1], prices[i] + dp[(i - 1) % 2][0]);
        }
        return dp[(len - 1) % 2][1];
    }
};
```

* æ—¶é—´å¤æ‚åº¦ï¼šO(n)
* ç©ºé—´å¤æ‚åº¦ï¼šO(1)

è¿™é‡Œèƒ½å†™å‡ºç‰ˆæœ¬ä¸€å°±å¯ä»¥äº†ï¼Œç‰ˆæœ¬äºŒè™½ç„¶åŸç†éƒ½ä¸€æ ·ï¼Œä½†æ˜¯æƒ³ç›´æ¥å†™å‡ºç‰ˆæœ¬äºŒè¿˜æ˜¯æœ‰ç‚¹éº»çƒ¦ï¼Œå®¹æ˜“è‡ªå·±ç»™è‡ªå·±æ‰¾bugã€‚

æ‰€ä»¥å»ºè®®æ˜¯å…ˆå†™å‡ºç‰ˆæœ¬ä¸€ï¼Œç„¶ååœ¨ç‰ˆæœ¬ä¸€çš„åŸºç¡€ä¸Šä¼˜åŒ–æˆç‰ˆæœ¬äºŒï¼Œè€Œä¸æ˜¯ç›´æ¥å°±å†™å‡ºç‰ˆæœ¬äºŒã€‚

## å…¶ä»–è¯­è¨€ç‰ˆæœ¬

* []

```java
class Solution {
    public int maxProfit(int[] prices) {
        // æ‰¾åˆ°ä¸€ä¸ªæœ€å°çš„è´­å…¥ç‚¹
        int low = Integer.MAX_VALUE;
        // resä¸æ–­æ›´æ–°ï¼Œç›´åˆ°æ•°ç»„å¾ªç¯å®Œæ¯•
        int res = 0;
        for(int i = 0; i < prices.length; i++){
            low = Math.min(prices[i], low);
            res = Math.max(prices[i] - low, res);
        }
        return res;
    }
}

// > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬ä¸€
// è§£æ³•1
class Solution {
    public int maxProfit(int[] prices) {
        if (prices == null || prices.length == 0) return 0;
        int length = prices.length;
        // dp[i][0]ä»£è¡¨ç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
        // dp[i][1]ä»£è¡¨ç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§æ”¶ç›Š
        int[][] dp = new int[length][2];
        int result = 0;
        dp[0][0] = -prices[0];
        dp[0][1] = 0;
        for (int i = 1; i < length; i++) {
            dp[i][0] = Math.max(dp[i - 1][0], -prices[i]);
            dp[i][1] = Math.max(dp[i - 1][0] + prices[i], dp[i - 1][1]);
        }
        return dp[length - 1][1];
    }
}

// > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬äºŒ
class Solution {
  public int maxProfit(int[] prices) {
    int[] dp = new int[2];
    // è®°å½•ä¸€æ¬¡äº¤æ˜“ï¼Œä¸€æ¬¡äº¤æ˜“æœ‰ä¹°å…¥å–å‡ºä¸¤ç§çŠ¶æ€
    // 0ä»£è¡¨æŒæœ‰ï¼Œ1ä»£è¡¨å–å‡º
    dp[0] = -prices[0];
    dp[1] = 0;
    // å¯ä»¥å‚è€ƒæ–æ³¢é‚£å¥‘é—®é¢˜çš„ä¼˜åŒ–æ–¹å¼
    // æˆ‘ä»¬ä» i=1 å¼€å§‹éå†æ•°ç»„ï¼Œä¸€å…±æœ‰ prices.length å¤©ï¼Œ
    // æ‰€ä»¥æ˜¯ i<=prices.length
    for (int i = 1; i <= prices.length; i++) {
      // å‰ä¸€å¤©æŒæœ‰ï¼›æˆ–å½“å¤©ä¹°å…¥
      dp[0] = Math.max(dp[0], -prices[i - 1]);
      // å¦‚æœ dp[0] è¢«æ›´æ–°ï¼Œé‚£ä¹ˆ dp[1] è‚¯å®šä¼šè¢«æ›´æ–°ä¸ºæ­£æ•°çš„ dp[1]
      // è€Œä¸æ˜¯ dp[0]+prices[i-1]==0 çš„0ï¼Œ
      // æ‰€ä»¥è¿™é‡Œä½¿ç”¨ä¼šæ”¹å˜çš„dp[0]ä¹Ÿæ˜¯å¯ä»¥çš„
      // å½“ç„¶ dp[1] åˆå§‹å€¼ä¸º 0 ï¼Œè¢«æ›´æ–°æˆ 0 ä¹Ÿæ²¡å½±å“
      // å‰ä¸€å¤©å–å‡ºï¼›æˆ–å½“å¤©å–å‡º, å½“å¤©è¦å–å‡ºï¼Œå¾—å‰ä¸€å¤©æŒæœ‰æ‰è¡Œ
      dp[1] = Math.max(dp[1], dp[0] + prices[i - 1]);
    }
    return dp[1];
  }
}
```

* []

```python

# > è´ªå¿ƒæ³•ï¼š
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        low = float("inf")
        result = 0
        for i in range(len(prices)):
            low = min(low, prices[i]) #å–æœ€å·¦æœ€å°ä»·æ ¼
            result = max(result, prices[i] - low) #ç›´æ¥å–æœ€å¤§åŒºé—´åˆ©æ¶¦
        return result

# > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬ä¸€
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        length = len(prices)
        if len == 0:
            return 0
        dp = [[0] * 2 for _ in range(length)]
        dp[0][0] = -prices[0]
        dp[0][1] = 0
        for i in range(1, length):
            dp[i][0] = max(dp[i-1][0], -prices[i])
            dp[i][1] = max(dp[i-1][1], prices[i] + dp[i-1][0])
        return dp[-1][1]

# > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬äºŒ
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        length = len(prices)
        dp = [[0] * 2 for _ in range(2)] #æ³¨æ„è¿™é‡Œåªå¼€è¾Ÿäº†ä¸€ä¸ª2 * 2å¤§å°çš„äºŒç»´æ•°ç»„
        dp[0][0] = -prices[0]
        dp[0][1] = 0
        for i in range(1, length):
            dp[i % 2][0] = max(dp[(i-1) % 2][0], -prices[i])
            dp[i % 2][1] = max(dp[(i-1) % 2][1], prices[i] + dp[(i-1) % 2][0])
        return dp[(length-1) % 2][1]

# > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬ä¸‰
class Solution:
    def maxProfit(self, prices: List[int]) -> int:
        length = len(prices)
        dp0, dp1 = -prices[0], 0 #æ³¨æ„è¿™é‡Œåªç»´æŠ¤ä¸¤ä¸ªå¸¸é‡ï¼Œå› ä¸ºdp0çš„æ›´æ–°ä¸å—dp1çš„å½±å“
        for i in range(1, length):
            dp1 = max(dp1, dp0 + prices[i])
            dp0 = max(dp0, -prices[i])
        return dp1
```

* []

```Go
func maxProfit(prices []int) int {
    min := prices[0]
    res := 0
    for i := 1; i < len(prices); i++ {
        if prices[i] - min > res {
            res = prices[i]-min
        }
        if min > prices[i] {
            min = prices[i]
        }
    }
    return res
}


// > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬ä¸€

func maxProfit(prices []int) int {
	length := len(prices)
	if length == 0{return 0}
	dp := make([][]int,length)
	for i := 0; i < length; i++ {
		dp[i] = make([]int, 2)
	}
	dp[0][0] = -prices[0]
	dp[0][1] = 0
	for i := 1; i < length; i++ {
		dp[i][0] = max(dp[i-1][0], -prices[i])
		dp[i][1] = max(dp[i-1][1], dp[i-1][0] + prices[i])
	}
	return dp[length-1][1]
}

func max(a, b int) int {
    if a > b {
        return a 
    }
    return b 
}


//  > åŠ¨æ€è§„åˆ’ï¼šç‰ˆæœ¬äºŒ

func maxProfit(prices []int) int {
    dp := [2][2]int{}
    dp[0][0] = -prices[0]   
    dp[0][1] = 0
    for i := 1; i < len(prices); i++ {
        dp[i%2][0] = max(dp[(i-1)%2][0], -prices[i])
        dp[i%2][1] = max(dp[(i-1)%2][1], dp[(i-1)%2][0]+prices[i])
    }

    return dp[(len(prices)-1)%2][1]
}

func max(a, b int) int {
    if a > b{
        return a 
    }

    return b
}
```

* []

```javascript
// > åŠ¨æ€è§„åˆ’
const maxProfit = prices => {
    const len = prices.length;
    // åˆ›å»ºdpæ•°ç»„
    const dp = new Array(len).fill([0, 0]);
    // dpæ•°ç»„åˆå§‹åŒ–
    dp[0] = [-prices[0], 0];
    for (let i = 1; i < len; i++) {
        // æ›´æ–°dp[i]
        dp[i] = [
            Math.max(dp[i - 1][0], -prices[i]),
            Math.max(dp[i - 1][1], prices[i] + dp[i - 1][0]),
        ];
    }
    return dp[len - 1][1];
};

// > è´ªå¿ƒæ³•
var maxProfit = function(prices) {
    let lowerPrice = prices[0];// é‡ç‚¹æ˜¯ç»´æŠ¤è¿™ä¸ªæœ€å°å€¼ï¼ˆè´ªå¿ƒçš„æ€æƒ³ï¼‰ 
    let profit = 0;
    for(let i = 0; i < prices.length; i++){
        lowerPrice = Math.min(lowerPrice, prices[i]);// è´ªå¿ƒåœ°é€‰æ‹©å·¦é¢çš„æœ€å°ä»·æ ¼
        profit = Math.max(profit, prices[i] - lowerPrice);// éå†ä¸€è¶Ÿå°±å¯ä»¥è·å¾—æœ€å¤§åˆ©æ¶¦
    }
    return profit;
};
```

* []

```typescript
// > è´ªå¿ƒæ³•
function maxProfit(prices: number[]): number {
    if (prices.length === 0) return 0;
    let buy: number = prices[0];
    let profitMax: number = 0;
    for (let i = 1, length = prices.length; i < length; i++) {
        profitMax = Math.max(profitMax, prices[i] - buy);
        buy = Math.min(prices[i], buy);
    }
    return profitMax;
};

// > åŠ¨æ€è§„åˆ’
function maxProfit(prices: number[]): number {
    /**
        dp[i][0]: ç¬¬iå¤©æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§ç°é‡‘
        dp[i][1]: ç¬¬iå¤©ä¸æŒæœ‰è‚¡ç¥¨çš„æœ€å¤§ç°é‡‘
     */
    const length = prices.length;
    if (length === 0) return 0;
    const dp: number[][] = [];
    dp[0] = [-prices[0], 0];
    for (let i = 1; i < length; i++) {
        dp[i] = [];
        dp[i][0] = Math.max(dp[i - 1][0], -prices[i]);
        dp[i][1] = Math.max(dp[i - 1][0] + prices[i], dp[i - 1][1]);
    }
    return dp[length - 1][1];
};
```

* []

```csharp
// > è´ªå¿ƒæ³•
public class Solution
{
    public int MaxProfit(int[] prices)
    {
        int min = Int32.MaxValue;
        int res = 0;
        for (int i = 0; i < prices.Length; i++)
        {
            min = Math.Min(prices[i], min);
            res = Math.Max(prices[i] - min, res);
        }
        return res;
    }
}

// > åŠ¨æ€è§„åˆ’
public class Solution
{
	public int MaxProfit(int[] prices)
    {
        int[] dp = new int[2];
        int size = prices.Length;
        (dp[0], dp[1]) = (-prices[0], 0);
        for (int i = 0; i < size; i++)
        {
            dp[0] = Math.Max(dp[0], -prices[i]);
            dp[1] = Math.Max(dp[1], dp[0]+prices[i]);
        }
        return dp[1];
    }
}
```

å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯ç¨‹åºå‘˜Carlï¼Œå¦‚æœä½ è¿˜åœ¨æ²¡æœ‰ç« æ³•çš„åˆ·é¢˜ï¼Œ**å»ºè®®æŒ‰ç…§[ä»£ç éšæƒ³å½•åˆ·é¢˜è·¯çº¿](https://programmercarl.com/)æ¥åˆ·**ï¼Œå¹¶æä¾›[PDFä¸‹è½½](https://programmercarl.com/other/algo_pdf.html)ï¼Œåˆ·é¢˜è·¯çº¿åŒæ—¶ä¹Ÿå¼€æºåœ¨[Github](https://github.com/youngyangyang04/leetcode-master)ä¸Šï¼Œä½ ä¼šå‘ç°è¯¦è§å¾ˆæ™šï¼

**å¦‚æœæ„Ÿè§‰é¢˜è§£å¯¹ä½ æœ‰å¸®åŠ©ï¼Œä¸è¦åå•¬ç»™ä¸€ä¸ªğŸ‘å§ï¼**

